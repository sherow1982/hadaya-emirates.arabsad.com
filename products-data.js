// Products Data for Hadaya Emirates - Complete Store
// بيانات منتجات متجر هدايا الإمارات - المتجر الكامل

window.productsData = [
    // الساعات - Watches
    {
        id: 1,
        title: "ساعة رولكس يخت ماستر - فضي",
        price: 370,
        salePrice: 320,
        image: "https://m5zoon.com/public/uploads/products/1689086291310824.webp",
        slug: "ساعة-رولكس-يخت-ماستر-فضي",
        description: "منتج فاخر من مجموعة الساعات - ساعة رولكس يخت ماستر - فضي. تصميم أنيق وجودة عالية مع ضمان الأصالة.",
        category: "الساعات",
        categoryEn: "watches",
        rating: 4.8,
        reviews: 45,
        featured: true,
        availability: "in_stock",
        brand: "رولكس",
        discount: 14
    },
    {
        id: 2,
        title: "ساعة Rolex كلاسيكية 41 ملم 2022",
        price: 375,
        salePrice: 325,
        image: "https://m5zoon.com/public/uploads/products/1741223185271965.png",
        slug: "ساعة-Rolex-كلاسيكية-41-ملم-2022",
        description: "منتج فاخر من مجموعة الساعات - ساعة Rolex كلاسيكية 41 ملم 2022. تصميم أنيق وجودة عالية مع ضمان الأصالة.",
        category: "الساعات",
        categoryEn: "watches",
        rating: 4.7,
        reviews: 38,
        featured: false,
        availability: "in_stock",
        brand: "رولكس",
        discount: 13
    },
    {
        id: 3,
        title: "ساعة rolex باللون الأسود. R21",
        price: 364,
        salePrice: 314,
        image: "https://m5zoon.com/public/uploads/products/1681005528571671.webp",
        slug: "ساعة-rolex-باللون-الأسود-R21",
        description: "منتج فاخر من مجموعة الساعات - ساعة rolex باللون الأسود. R21. تصميم أنيق وجودة عالية مع ضمان الأصالة.",
        category: "الساعات",
        categoryEn: "watches",
        rating: 4.6,
        reviews: 32,
        featured: false,
        availability: "in_stock",
        brand: "رولكس",
        discount: 14
    },
    {
        id: 4,
        title: "ساعة rolex 40ملم R54",
        price: 365,
        salePrice: 315,
        image: "https://m5zoon.com/public/uploads/products/1681164046332341.webp",
        slug: "ساعة-rolex-40ملم-R54",
        description: "منتج فاخر من مجموعة الساعات - ساعة rolex 40ملم R54. تصميم أنيق وجودة عالية مع ضمان الأصالة.",
        category: "الساعات",
        categoryEn: "watches",
        rating: 4.5,
        reviews: 28,
        featured: false,
        availability: "in_stock",
        brand: "رولكس",
        discount: 14
    },
    {
        id: 5,
        title: "ساعة rolex باللون الأخضر الملكي",
        price: 364,
        salePrice: 314,
        image: "https://m5zoon.com/public/uploads/products/1741222920546873.png",
        slug: "ساعة-rolex-باللون-الأخضر-الملكي",
        description: "منتج فاخر من مجموعة الساعات - ساعة rolex باللون الأخضر الملكي. تصميم أنيق وجودة عالية مع ضمان الأصالة.",
        category: "الساعات",
        categoryEn: "watches",
        rating: 4.9,
        reviews: 52,
        featured: false,
        availability: "in_stock",
        brand: "رولكس",
        discount: 14
    },
    {
        id: 6,
        title: "ساعة rolex باللون الذهبي والأسود",
        price: 360,
        salePrice: 310,
        image: "https://m5zoon.com/public/uploads/products/1757284688463569.webp",
        slug: "ساعة-rolex-باللون-الذهبي-والأسود",
        description: "منتج فاخر من مجموعة الساعات - ساعة rolex باللون الذهبي والأسود. تصميم أنيق وجودة عالية مع ضمان الأصالة.",
        category: "الساعات",
        categoryEn: "watches",
        rating: 4.6,
        reviews: 41,
        featured: false,
        availability: "in_stock",
        brand: "رولكس",
        discount: 14
    },
    {
        id: 7,
        title: "ساعة rolex باللون الأسود والفضي",
        price: 390,
        salePrice: 340,
        image: "https://m5zoon.com/public/uploads/products/1741222642273682.png",
        slug: "ساعة-rolex-باللون-الأسود-والفضي",
        description: "منتج فاخر من مجموعة الساعات - ساعة rolex باللون الأسود والفضي. تصميم أنيق وجودة عالية مع ضمان الأصالة.",
        category: "الساعات",
        categoryEn: "watches",
        rating: 4.8,
        reviews: 47,
        featured: false,
        availability: "in_stock",
        brand: "رولكس",
        discount: 13
    },
    {
        id: 8,
        title: "ساعة اوميغا سواتش بيبي بلو",
        price: 375,
        salePrice: 325,
        image: "https://m5zoon.com/public/uploads/products/1720305672749191.webp",
        slug: "ساعة-اوميغا-سواتش-بيبي-بلو",
        description: "منتج فاخر من مجموعة الساعات - ساعة اوميغا سواتش بيبي بلو. تصميم أنيق وجودة عالية مع ضمان الأصالة.",
        category: "الساعات",
        categoryEn: "watches",
        rating: 4.7,
        reviews: 35,
        featured: true,
        availability: "in_stock",
        brand: "أوميغا",
        discount: 13
    },
    {
        id: 9,
        title: "ساعة اوميغا سواتش نبيتى",
        price: 375,
        salePrice: 325,
        image: "https://m5zoon.com/public/uploads/products/1741222388454456.png",
        slug: "ساعة-اوميغا-سواتش-نبيتى",
        description: "منتج فاخر من مجموعة الساعات - ساعة اوميغا سواتش نبيتى. تصميم أنيق وجودة عالية مع ضمان الأصالة.",
        category: "الساعات",
        categoryEn: "watches",
        rating: 4.6,
        reviews: 29,
        featured: false,
        availability: "in_stock",
        brand: "أوميغا",
        discount: 13
    },
    {
        id: 10,
        title: "ساعة اوميغا سواتش صفراء",
        price: 375,
        salePrice: 325,
        image: "https://m5zoon.com/public/uploads/products/1741221412352160.png",
        slug: "ساعة-اوميغا-سواتش-صفراء",
        description: "منتج فاخر من مجموعة الساعات - ساعة اوميغا سواتش صفراء. تصميم أنيق وجودة عالية مع ضمان الأصالة.",
        category: "الساعات",
        categoryEn: "watches",
        rating: 4.5,
        reviews: 33,
        featured: false,
        availability: "in_stock",
        brand: "أوميغا",
        discount: 13
    },
    {
        id: 11,
        title: "ساعة سربنتي توبوغاس",
        price: 470,
        salePrice: 420,
        image: "https://m5zoon.com/public/uploads/products/1741220746882687.png",
        slug: "ساعة-سربنتي-توبوغاس",
        description: "منتج فاخر من مجموعة الساعات - ساعة سربنتي توبوغاس. تصميم أنيق وجودة عالية مع ضمان الأصالة.",
        category: "الساعات",
        categoryEn: "watches",
        rating: 4.8,
        reviews: 42,
        featured: false,
        availability: "in_stock",
        brand: "بولغاري",
        discount: 11
    },
    {
        id: 12,
        title: "ساعة نسائية ديور - مينا صغير SL0012",
        price: 385,
        salePrice: 335,
        image: "https://m5zoon.com/public/uploads/products/1741220693290036.png",
        slug: "ساعة-نسائية-ديور-مينا-صغير-SL0012",
        description: "منتج فاخر من مجموعة الساعات - ساعة نسائية ديور - مينا صغير SL0012. تصميم أنيق وجودة عالية مع ضمان الأصالة.",
        category: "الساعات",
        categoryEn: "watches",
        rating: 4.7,
        reviews: 38,
        featured: false,
        availability: "in_stock",
        brand: "ديور",
        discount: 13
    },
    {
        id: 13,
        title: "بوكس الساعة والايربودز 6 في 1",
        price: 410,
        salePrice: 360,
        image: "https://m5zoon.com/public/uploads/products/1693928071589621.webp",
        slug: "بوكس-الساعة-والايربودز-6-في-1",
        description: "منتج فاخر من مجموعة الساعات - بوكس الساعة والايربودز 6 في 1. تصميم أنيق وجودة عالية مع ضمان الأصالة.",
        category: "الساعات",
        categoryEn: "watches",
        rating: 4.9,
        reviews: 56,
        featured: false,
        availability: "in_stock",
        brand: "متنوعة",
        discount: 12
    },
    {
        id: 14,
        title: "ساعة Ultra مع ايربودز هدية",
        price: 352,
        salePrice: 302,
        image: "https://m5zoon.com/public/uploads/products/1731698702725313.webp",
        slug: "ساعة-Ultra-مع-ايربودز-هدية",
        description: "منتج فاخر من مجموعة الساعات - ساعة Ultra مع ايربودز هدية. تصميم أنيق وجودة عالية مع ضمان الأصالة.",
        category: "الساعات",
        categoryEn: "watches",
        rating: 4.6,
        reviews: 31,
        featured: false,
        availability: "in_stock",
        brand: "أبل",
        discount: 14
    },
    {
        id: 15,
        title: "ساعة رولكس يخت ماستر - ذهبي",
        price: 364,
        salePrice: 314,
        image: "https://m5zoon.com/public/uploads/products/1731699218702214.webp",
        slug: "ساعة-رولكس-يخت-ماستر-ذهبي",
        description: "منتج فاخر من مجموعة الساعات - ساعة رولكس يخت ماستر - ذهبي. تصميم أنيق وجودة عالية مع ضمان الأصالة.",
        category: "الساعات",
        categoryEn: "watches",
        rating: 4.8,
        reviews: 44,
        featured: false,
        availability: "in_stock",
        brand: "رولكس",
        discount: 14
    },
    {
        id: 16,
        title: "ساعة ذكية مزودة بكاميرا",
        price: 356,
        salePrice: 306,
        image: "https://m5zoon.com/public/uploads/products/1731362264876264.webp",
        slug: "ساعة-ذكية-مزودة-بكاميرا",
        description: "منتج فاخر من مجموعة الساعات - ساعة ذكية مزودة بكاميرا. تصميم أنيق وجودة عالية مع ضمان الأصالة.",
        category: "الساعات",
        categoryEn: "watches",
        rating: 4.5,
        reviews: 27,
        featured: true,
        availability: "in_stock",
        brand: "ذكية",
        discount: 14
    },

    // العطور - Perfumes
    {
        id: 179,
        title: "عطر كوكو شانيل 100 مل",
        price: 352,
        salePrice: 252,
        image: "https://m5zoon.com/public/uploads/products/1722352332177124.webp",
        slug: "عطر-كوكو-شانيل-100-مل",
        description: "منتج فاخر من مجموعة العطور - عطر كوكو شانيل 100 مل. عطر أصلي بتركيبة راقية ورائحة مميزة.",
        category: "العطور",
        categoryEn: "perfumes",
        rating: 4.9,
        reviews: 68,
        featured: true,
        availability: "in_stock",
        brand: "شانيل",
        discount: 28
    },
    {
        id: 180,
        title: "عطر جوتشي فلورا",
        price: 352,
        salePrice: 252,
        image: "https://m5zoon.com/public/uploads/products/1720344963790342.webp",
        slug: "عطر-جوتشي-فلورا",
        description: "منتج فاخر من مجموعة العطور - عطر جوتشي فلورا. عطر أصلي بتركيبة راقية ورائحة مميزة.",
        category: "العطور",
        categoryEn: "perfumes",
        rating: 4.8,
        reviews: 54,
        featured: false,
        availability: "in_stock",
        brand: "جوتشي",
        discount: 28
    },
    {
        id: 181,
        title: "عطر جوتچي بلوم",
        price: 352,
        salePrice: 252,
        image: "https://m5zoon.com/public/uploads/products/1720344971935939.webp",
        slug: "عطر-جوتچي-بلوم",
        description: "منتج فاخر من مجموعة العطور - عطر جوتچي بلوم. عطر أصلي بتركيبة راقية ورائحة مميزة.",
        category: "العطور",
        categoryEn: "perfumes",
        rating: 4.7,
        reviews: 49,
        featured: true,
        availability: "in_stock",
        brand: "جوتچي",
        discount: 28
    },
    {
        id: 182,
        title: "عطر سوفاج ديور 100 مل",
        price: 352,
        salePrice: 252,
        image: "https://m5zoon.com/public/uploads/products/1720344979304336.webp",
        slug: "عطر-سوفاج-ديور-100-مل",
        description: "منتج فاخر من مجموعة العطور - عطر سوفاج ديور 100 مل. عطر أصلي بتركيبة راقية ورائحة مميزة.",
        category: "العطور",
        categoryEn: "perfumes",
        rating: 4.9,
        reviews: 72,
        featured: false,
        availability: "in_stock",
        brand: "ديور",
        discount: 28
    },
    {
        id: 183,
        title: "عطر فرزاتشي ايروس",
        price: 352,
        salePrice: 252,
        image: "https://m5zoon.com/public/uploads/products/1720345001981811.webp",
        slug: "عطر-فرزاتشي-ايروس",
        description: "منتج فاخر من مجموعة العطور - عطر فرزاتشي ايروس. عطر أصلي بتركيبة راقية ورائحة مميزة.",
        category: "العطور",
        categoryEn: "perfumes",
        rating: 4.6,
        reviews: 43,
        featured: false,
        availability: "in_stock",
        brand: "فرزاتشي",
        discount: 28
    },
    {
        id: 184,
        title: "فواحة عطرية للسيارة قابلة لإعادة الشحن",
        price: 364,
        salePrice: 264,
        image: "https://m5zoon.com/public/uploads/products/1722352237120309.webp",
        slug: "فواحة-عطرية-للسيارة-قابلة-لإعادة-الشحن",
        description: "منتج فاخر من مجموعة العطور - فواحة عطرية للسيارة قابلة لإعادة الشحن. عطر أصلي بتركيبة راقية ورائحة مميزة.",
        category: "العطور",
        categoryEn: "perfumes",
        rating: 4.5,
        reviews: 35,
        featured: false,
        availability: "in_stock",
        brand: "متنوعة",
        discount: 27
    },
    {
        id: 185,
        title: "Tom Ford Vanilla Sex",
        price: 365,
        salePrice: 265,
        image: "https://m5zoon.com/public/uploads/products/1757731212122499.webp",
        slug: "Tom-Ford-Vanilla-Sex",
        description: "منتج فاخر من مجموعة العطور - Tom Ford Vanilla Sex. عطر أصلي بتركيبة راقية ورائحة مميزة.",
        category: "العطور",
        categoryEn: "perfumes",
        rating: 4.8,
        reviews: 61,
        featured: true,
        availability: "in_stock",
        brand: "توم فورد",
        discount: 27
    },
    {
        id: 186,
        title: "Tom Ford Myrrhe Mystere",
        price: 365,
        salePrice: 265,
        image: "https://m5zoon.com/public/uploads/products/175773127350287.webp",
        slug: "Tom-Ford-Myrrhe-Mystere",
        description: "منتج فاخر من مجموعة العطور - Tom Ford Myrrhe Mystere. عطر أصلي بتركيبة راقية ورائحة مميزة.",
        category: "العطور",
        categoryEn: "perfumes",
        rating: 4.7,
        reviews: 48,
        featured: false,
        availability: "in_stock",
        brand: "توم فورد",
        discount: 27
    },
    {
        id: 187,
        title: "Tom Ford Eau De Soleil Blanc",
        price: 365,
        salePrice: 265,
        image: "https://m5zoon.com/public/uploads/products/175773142284159.webp",
        slug: "Tom-Ford-Eau-De-Soleil-Blanc",
        description: "منتج فاخر من مجموعة العطور - Tom Ford Eau De Soleil Blanc. عطر أصلي بتركيبة راقية ورائحة مميزة.",
        category: "العطور",
        categoryEn: "perfumes",
        rating: 4.6,
        reviews: 39,
        featured: true,
        availability: "in_stock",
        brand: "توم فورد",
        discount: 27
    },
    {
        id: 188,
        title: "Tom Ford Ombre Leather",
        price: 365,
        salePrice: 265,
        image: "https://m5zoon.com/public/uploads/products/1757731526832014.webp",
        slug: "Tom-Ford-Ombre-Leather",
        description: "منتج فاخر من مجموعة العطور - Tom Ford Ombre Leather. عطر أصلي بتركيبة راقية ورائحة مميزة.",
        category: "العطور",
        categoryEn: "perfumes",
        rating: 4.8,
        reviews: 57,
        featured: false,
        availability: "in_stock",
        brand: "توم فورد",
        discount: 27
    }
];

// Enhanced search and utility functions
function getProductBySlug(slug) {
    if (!slug) return null;

    const normalizedSlug = decodeURIComponent(slug)
        .trim()
        .replace(/\\u200f|\\u200e/g, '')
        .replace(/\\s+/g, '-')
        .toLowerCase();

    // Try exact match first
    let product = window.productsData.find(product => {
        const productSlug = product.slug.toLowerCase().replace(/\\s+/g, '-');
        return productSlug === normalizedSlug;
    });

    if (product) return product;

    // Try partial title match for Arabic names
    product = window.productsData.find(product => {
        const title = product.title.toLowerCase();
        const searchTerms = normalizedSlug.split('-').filter(term => term.length > 2);
        return searchTerms.every(term => title.includes(term));
    });

    if (product) return product;

    // Try by ID if slug looks like a number
    const idMatch = slug.match(/\\d+/);
    if (idMatch) {
        const id = parseInt(idMatch[0]);
        product = window.productsData.find(p => p.id === id);
    }

    return product;
}

function getProductById(id) {
    return window.productsData.find(product => product.id === parseInt(id));
}

function getProductsByCategory(category) {
    if (category === 'watches') return window.productsData.filter(p => p.categoryEn === 'watches');
    if (category === 'perfumes') return window.productsData.filter(p => p.categoryEn === 'perfumes');
    return window.productsData.filter(product => 
        product.category === category || product.categoryEn === category
    );
}

function searchProducts(query) {
    const searchTerm = query.toLowerCase();
    return window.productsData.filter(product => 
        product.title.toLowerCase().includes(searchTerm) ||
        product.description.toLowerCase().includes(searchTerm) ||
        product.category.toLowerCase().includes(searchTerm) ||
        product.brand.toLowerCase().includes(searchTerm)
    );
}

function getFeaturedProducts() {
    return window.productsData.filter(product => product.featured);
}

// Dynamic statistics calculation
window.totalProducts = window.productsData.length;
window.totalWatches = getProductsByCategory('watches').length;
window.totalPerfumes = getProductsByCategory('perfumes').length;
window.totalFeatured = getFeaturedProducts().length;

console.log(`🎉 متجر هدايا الإمارات: تم تحميل ${window.totalProducts} منتج بنجاح!`);
console.log(`⌚ الساعات: ${window.totalWatches} منتج`);
console.log(`🌸 العطور: ${window.totalPerfumes} منتج`);
console.log(`⭐ المميزة: ${window.totalFeatured} منتج`);

// Pagination support
window.productsPerPage = 36;
window.totalPages = Math.ceil(window.totalProducts / window.productsPerPage);

function getProductsForPage(page = 1, filteredProducts = null) {
    const products = filteredProducts || window.productsData;
    const startIndex = (page - 1) * window.productsPerPage;
    const endIndex = startIndex + window.productsPerPage;
    return products.slice(startIndex, endIndex);
}

// Debug helper for Arabic slugs
window.debugProduct = function(slug) {
    console.log('🔍 البحث عن:', slug);
    const product = getProductBySlug(slug);
    console.log('✅ النتيجة:', product);
    return product;
};