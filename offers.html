<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>عروض اليوم | متجر هدايا الإمارات</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header class="site-header"><div class="container"><h1>⭐ عروض اليوم</h1></div></header>
  <main class="main-content">
    <div class="container">
      <div id="offersGrid" class="products-grid"></div>
    </div>
  </main>
  <script src="products-data.js"></script>
  <script>
    function card(p){
      const discount = p.price > (p.salePrice || p.price) ? Math.round((p.price - (p.salePrice||p.price))/p.price*100):0;
      return `
      <article class='product-card'>
        <div class='product-image'>
          <img src='${p.image}' alt='${p.title}' onerror="this.src='https://images.unsplash.com/photo-1523275335684-37898b6baf30?w=400&h=400&fit=crop'"/>
          ${discount>0?`<span class='badge discount'>خصم ${discount}%</span>`:''}
        </div>
        <div class='product-content'>
          <h3 class='product-title'>${p.title}</h3>
          <div class='product-pricing'>
            <span class='current-price'>${p.salePrice || p.price} درهم</span>
            ${discount>0?`<span class='original-price'>${p.price} درهم</span>`:''}
          </div>
          <a class='btn btn-outline-primary' href='product.html?slug=${p.slug}'>التفاصيل</a>
        </div>
      </article>`;
    }
    const featured = (window.productsData||[]).filter(p=>p.featured);
    document.getElementById('offersGrid').innerHTML = featured.map(card).join('');
  </script>
</body>
</html>
